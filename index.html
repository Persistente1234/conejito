<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>Para Mi Amor üíñ</title>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: linear-gradient(135deg, #ffafbd, #ffc3a0, #ff9a9e, #ffd1dc);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      position: relative;
      padding-bottom: 80px;
      font-family: 'Pacifico', cursive;
      transition: background 0.6s ease;
    }

    /* Men√∫ de configuraci√≥n */
    #menuToggle {
      position: absolute;
      top: 12px;
      left: 12px;
      z-index: 200;
      background: rgba(255, 255, 255, 0.85);
      border: 2px solid #ff6b9c;
      border-radius: 10px;
      padding: 8px 12px;
      cursor: pointer;
      font-size: 20px;
      color: #ff1a5e;
      box-shadow: 0 3px 10px rgba(255, 105, 180, 0.4);
    }

    #configPanel {
      position: absolute;
      top: 50px;
      left: 12px;
      background: rgba(255, 255, 255, 0.92);
      border-radius: 16px;
      padding: 16px;
      width: 260px;
      box-shadow: 0 5px 18px rgba(255, 42, 109, 0.5);
      z-index: 190;
      display: none;
      border: 2px solid #ff6b9c;
      backdrop-filter: blur(8px);
      font-size: 0.95rem;
    }

    #configPanel h3 {
      font-size: 1.3rem;
      color: #ff1a5e;
      margin-bottom: 12px;
      text-align: center;
    }

    .config-section {
      margin-bottom: 14px;
    }

    .config-section label {
      display: block;
      font-size: 1rem;
      color: #ff3366;
      margin-bottom: 5px;
      font-weight: 600;
    }

    .config-section select, .config-section input {
      width: 100%;
      padding: 7px;
      border-radius: 8px;
      border: 1px solid #ffb6c1;
      background: white;
      font-family: 'Pacifico', cursive;
      font-size: 0.95rem;
    }

    .theme-btn {
      display: block;
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border: none;
      border-radius: 8px;
      font-family: 'Pacifico', cursive;
      font-size: 1rem;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .theme-btn:hover {
      transform: scale(1.02);
    }

    .info-creator {
      margin-top: 16px;
      padding-top: 12px;
      border-top: 1px dashed #ffb6c1;
    }

    .info-creator p {
      font-size: 0.95rem;
      color: #ff1a5e;
      margin: 5px 0;
    }

    .info-creator a {
      color: #ff3366;
      text-decoration: none;
      font-weight: bold;
    }

    /* Decoraciones flotando */
    .decoration {
      position: absolute;
      font-size: 16px;
      opacity: 0;
      z-index: 1;
      pointer-events: none;
    }

    @keyframes floatDecor {
      0% { transform: translateY(0) rotate(0deg) scale(0); opacity: 0; }
      10% { opacity: 0.85; transform: scale(1); }
      90% { opacity: 0.85; }
      100% { transform: translateY(-100vh) rotate(360deg) scale(1.3); opacity: 0; }
    }

    /* Cuadro principal - ligeramente m√°s peque√±o */
    .main-box {
      position: relative;
      width: 94%;
      max-width: 540px;
      background: rgba(255, 255, 255, 0.94);
      border-radius: 24px;
      padding: 32px 20px;
      text-align: center;
      z-index: 10;
      margin-bottom: 18px;
      box-shadow: 0 10px 30px rgba(255, 77, 141, 0.4);
      border: 2.5px solid rgba(255, 105, 180, 0.6);
      transform: scale(0.92);
      transform-origin: center;
    }

    .main-box::before {
      content: "";
      position: absolute;
      top: -5px;
      left: -5px;
      right: -5px;
      bottom: -5px;
      background: linear-gradient(45deg, #ff6b9c, #ff8eab, #ffb3c6);
      z-index: -1;
      border-radius: 30px;
      animation: shine 3s linear infinite;
      background-size: 400% 400%;
      filter: blur(8px);
      opacity: 0.85;
    }

    @keyframes shine {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .title {
      font-size: 2.2rem;
      color: #ff1a5e;
      margin-bottom: 26px;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.1), 0 0 10px rgba(255,105,180,0.5);
      letter-spacing: 1px;
    }

    .btn-love {
      background: linear-gradient(45deg, #ff3366, #ff6699);
      color: white;
      border: none;
      padding: 16px 44px;
      font-size: 1.65rem;
      border-radius: 50px;
      cursor: pointer;
      font-family: 'Pacifico', cursive;
      box-shadow: 0 7px 20px rgba(255, 51, 102, 0.6);
      transition: all 0.25s ease;
      outline: none;
      letter-spacing: 1.2px;
    }

    .btn-love:hover {
      transform: scale(1.04);
    }

    #countdown {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.92);
      font-size: 7.8rem;
      font-weight: 800;
      color: #ff004d;
      text-shadow: 
        0 0 18px rgba(255, 255, 255, 1),
        0 0 32px rgba(255, 105, 180, 0.9),
        0 0 46px rgba(255, 0, 77, 0.8);
      z-index: 15;
      display: none;
      animation: numberPulse 0.9s infinite alternate;
    }

    @keyframes numberPulse {
      from { transform: translate(-50%, -50%) scale(0.92); }
      to { transform: translate(-50%, -50%) scale(1.03); }
    }

    .video-container {
      display: none;
      width: 100%;
      border-radius: 18px;
      overflow: hidden;
      position: relative;
      margin-top: 16px;
      box-shadow: 0 7px 25px rgba(0,0,0,0.25);
    }

    video {
      width: 100%;
      display: block;
    }

    /* INICIO DEL CAMBIO: Hacemos el recuadro del texto completamente transparente */
    .letter-overlay {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.92);
      width: 90%;
      max-width: 480px;
      /* FONDO, BORDE Y SOMBRA TOTALMENTE TRANSPARENTES */
      background: rgba(255, 255, 255, 0); 
      border-radius: 22px;
      padding: 22px;
      text-align: center;
      backdrop-filter: blur(0px); /* Quitamos el efecto blur para m√°s transparencia */
      border: 2px solid rgba(255, 105, 180, 0);
      box-shadow: none; /* Simplificamos la eliminaci√≥n de la sombra */
      z-index: 20;
    }
    /* FIN DEL CAMBIO */

    .letter-buttons {
      margin-top: 16px;
    }

    .btn-action {
      padding: 11px 28px;
      font-size: 1.3rem;
      border-radius: 46px;
      border: none;
      cursor: pointer;
      font-family: 'Pacifico', cursive;
      margin: 0 7px;
    }

    .btn-open {
      background: linear-gradient(45deg, #ff99cc, #ffb3d9);
      color: #ff1a5e;
      box-shadow: 0 4px 14px rgba(255, 153, 204, 0.6);
    }

    .btn-close {
      background: linear-gradient(45deg, #a0d6ff, #c0e6ff);
      color: #2a7dff;
      box-shadow: 0 4px 14px rgba(160, 214, 255, 0.6);
      display: none;
    }

    .letter-content {
      font-size: 1.5rem;
      color: #ff1a5e;
      line-height: 1.6;
      min-height: 110px;
      padding: 7px;
      transition: font-size 0.3s;
    }

    .credits {
      position: absolute;
      bottom: 20px;
      font-size: 1.2rem;
      color: #ff1a5e;
      font-family: 'Pacifico', cursive;
      font-weight: 600;
      text-shadow: 0 0 7px rgba(255,255,255,0.9), 0 0 13px rgba(255,105,180,0.7);
      letter-spacing: 1.1px;
      z-index: 5;
    }

    #promoBox {
      position: fixed;
      bottom: 18px;
      right: 18px;
      background: rgba(255, 255, 255, 0.94);
      border-radius: 18px;
      padding: 18px;
      width: 270px;
      box-shadow: 0 7px 22px rgba(255, 42, 109, 0.6);
      z-index: 100;
      border: 2px solid #ff6b9c;
      display: none;
      backdrop-filter: blur(10px);
      animation: slideIn 0.5s ease-out;
      font-size: 0.95rem;
    }

    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    #promoBox h3 {
      font-size: 1.3rem;
      color: #ff1a5e;
      margin-bottom: 12px;
      font-family: 'Pacifico', cursive;
      text-align: center;
    }

    .promo-item {
      background: rgba(255, 240, 245, 0.8);
      border-radius: 12px;
      padding: 10px;
      margin: 8px 0;
      border: 1px solid #ffb6c1;
    }

    .promo-item p {
      font-size: 0.95rem;
      color: #ff3366;
      margin-bottom: 6px;
      font-weight: 600;
    }

    .promo-btn {
      display: block;
      width: 100%;
      padding: 9px;
      background: linear-gradient(45deg, #ff6b9c, #ff8eab);
      color: white;
      border: none;
      border-radius: 11px;
      font-family: 'Pacifico', cursive;
      font-size: 1.05rem;
      font-weight: bold;
      cursor: pointer;
      text-align: center;
      text-decoration: none;
      transition: transform 0.2s;
    }

    .promo-btn:hover {
      transform: scale(1.02);
    }

    .sparkle {
      position: absolute;
      width: 9px;
      height: 9px;
      background: white;
      border-radius: 50%;
      box-shadow: 0 0 12px 3px white;
      opacity: 0;
      pointer-events: none;
      z-index: 30;
    }

    @keyframes fadeInOut {
      0% { opacity: 0; transform: scale(0); }
      50% { opacity: 1; transform: scale(1); }
      100% { opacity: 0; transform: scale(1.4); }
    }
  </style>
</head>
<body>
  <div id="menuToggle">‚ò∞</div>
  <div id="configPanel">
    <h3>‚öôÔ∏è Personalizaci√≥n</h3>

    <div class="config-section">
      <label for="fontSize">Tama√±o de letra (carta)</label>
      <select id="fontSize">
        <option value="1.2">Peque√±o</option>
        <option value="1.5" selected>Normal</option>
        <option value="1.9">Grande</option>
        <option value="2.3">Muy grande</option>
      </select>
    </div>

    <div class="config-section">
      <label for="typingSpeed">Velocidad de escritura (ms)</label>
      <input type="range" id="typingSpeed" min="20" max="120" value="60" />
      <span id="speedValue">60 ms</span>
    </div>

    <div class="config-section">
      <label>üé® Tema de fondo</label>
      <button class="theme-btn" data-theme="romantic">Rom√°ntico (rosado)</button>
      <button class="theme-btn" data-theme="dark">Oscuro elegante</button>
      <button class="theme-btn" data-theme="gold">Dorado</button>
      <button class="theme-btn" data-theme="purple">Morado</button>
      <button class="theme-btn" data-theme="rainbow">Arco√≠ris</button>
    </div>

    <div class="info-creator">
      <p>‚ù§Ô∏è Creado por: <strong>Vic üíô Persi</strong></p>
      <p>üåê <a href="VIC üíô PERSI" target="_blank">VIC üíô PERSI.COM</a></p>
      <p>üì± <a href="https://wa.me/qr/GEELF4EW2PWRL1" target="_blank">Escr√≠beme por WhatsApp</a></p>
    </div>
  </div>

  <script>
    const decorations = ['üíñ', '‚ú®', 'üå∏', 'üí´', 'üåπ', 'ü¶ã', 'üíï', 'üåü', 'üå∑', 'üíû'];
    for (let i = 0; i < 45; i++) {
      const deco = document.createElement('div');
      deco.className = 'decoration';
      deco.innerHTML = decorations[Math.floor(Math.random() * decorations.length)];
      deco.style.left = Math.random() * 100 + '%';
      deco.style.top = Math.random() * 100 + 'vh';
      deco.style.fontSize = (12 + Math.random() * 8) + 'px';
      deco.style.animation = `floatDecor ${10 + Math.random() * 7}s infinite ${Math.random() * 4}s ease-in`;
      document.body.appendChild(deco);
    }
  </script>

  <div class="main-box">
    <h1 class="title" id="mainTitle">Para Renata üíì</h1>
    <button id="loveBtn" class="btn-love">Toca ac√° mi amor</button>
    <div id="countdown"></div>

    <div class="video-container" id="videoContainer">
      <video id="romanticVideo" muted playsinline loop>
          <source src="conejito.mp4" type="video/mp4">
          Tu navegador no soporta el video.
      </video>
      <div class="letter-buttons">
        <button class="btn-action btn-open" id="showLetterBtn">üíå Abrir carta Creador VicPersi</button>
        <button class="btn-action btn-close" id="closeLetterBtn">‚úâÔ∏è Cerrar carta Creador VicPersi</button>
      </div>
      <div class="letter-overlay" id="letterOverlay">
        <div class="letter-content" id="letterContent"></div>
      </div>
    </div>
  </div>

  <div class="credits">By Vic üíô Persi</div>

  <div id="promoBox">
    <h3>‚ú® ¬øQuieres tu propio proyecto?</h3>
    <div class="promo-item">
      <p>üí¨ Escr√≠beme por WhatsApp</p>
      <a href="https://wa.me/qr/GEELF4EW2PWRL1" target="_blank" class="promo-btn">Enviar mensaje</a>
    </div>
    <div class="promo-item">
      <p>üåê Proyectos y demos en mi web</p>
      <a href="https://Vic üíô Persi.COM" target="_blank" class="promo-btn">Ver proyectos</a>
    </div>
  </div>

  <audio id="beepSound" src="https://files.catbox.moe/7zbkhk.mp3" preload="auto"></audio>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const menuToggle = document.getElementById('menuToggle');
      const configPanel = document.getElementById('configPanel');
      const fontSizeSelect = document.getElementById('fontSize');
      const typingSpeedInput = document.getElementById('typingSpeed');
      const speedValue = document.getElementById('speedValue');
      const themeButtons = document.querySelectorAll('.theme-btn');
      const letterContent = document.getElementById('letterContent');

      const mainTitle = document.getElementById('mainTitle');
      const loveBtn = document.getElementById('loveBtn');
      const countdownEl = document.getElementById('countdown');
      const videoContainer = document.getElementById('videoContainer');
      const romanticVideo = document.getElementById('romanticVideo');
      const showLetterBtn = document.getElementById('showLetterBtn');
      const closeLetterBtn = document.getElementById('closeLetterBtn');
      const letterOverlay = document.getElementById('letterOverlay');
      const beepSound = document.getElementById('beepSound');
      const promoBox = document.getElementById('promoBox');

      romanticVideo.load(); 

      const letterMessage = `Hola Renata üíñ,\n\n La belleza de una rosa no tiene üåå.\n No tiene comparacion con la ‚ú®.\n\n dulzura de tu rostro üíå\n\n y la hermosura de tu corazon ,\nU detalle de Vic ‚ù§ Persi para mujer muy hermosa para ti Renata üíò`;

      // ‚úÖ Mostrar promo SOLO 7 SEGUNDOS
      setTimeout(() => {
        promoBox.style.display = 'block';
        setTimeout(() => {
          promoBox.style.opacity = '0';
          promoBox.style.transition = 'opacity 0.7s';
          setTimeout(() => {
            promoBox.style.display = 'none';
            promoBox.style.opacity = '1';
          }, 700);
        }, 7000); // ‚Üê‚Üê‚Üê 7000 ms = 7 segundos
      }, 2000);

      menuToggle.addEventListener('click', () => {
        configPanel.style.display = configPanel.style.display === 'block' ? 'none' : 'block';
      });

      fontSizeSelect.addEventListener('change', () => {
        letterContent.style.fontSize = fontSizeSelect.value + 'rem';
      });

      typingSpeedInput.addEventListener('input', () => {
        speedValue.textContent = typingSpeedInput.value + ' ms';
      });

      const themes = {
        romantic: 'linear-gradient(135deg, #ffafbd, #ffc3a0, #ff9a9e, #ffd1dc)',
        dark: 'linear-gradient(135deg, #141e30, #243b55)',
        gold: 'linear-gradient(135deg, #f4d03f, #f1c40f, #f5b041)',
        purple: 'linear-gradient(135deg, #8e44ad, #9b59b6, #af7ac5)',
        rainbow: 'linear-gradient(135deg, #ff0000, #ff8000, #ffff00, #00ff00, #00ffff, #0000ff, #8000ff)'
      };

      themeButtons.forEach(btn => {
        btn.addEventListener('click', () => {
          const theme = btn.dataset.theme;
          document.body.style.background = themes[theme] || themes.romantic;
        });
      });

      function createSparkle(x, y) {
        const sparkle = document.createElement('div');
        sparkle.className = 'sparkle';
        sparkle.style.left = x + 'px';
        sparkle.style.top = y + 'px';
        sparkle.style.animation = 'fadeInOut 1.2s forwards';
        document.body.appendChild(sparkle);
        setTimeout(() => sparkle.remove(), 1200);
      }

      function typeLetter(text, element, delay = 60) {
        let i = 0;
        element.textContent = '';
        const timer = setInterval(() => {
          if (i < text.length) {
            element.textContent += text.charAt(i);
            i++;
            if (['.', '!', '?', '‚Ä¶'].includes(text.charAt(i-1))) {
              clearInterval(timer);
              setTimeout(() => {
                const nextTimer = setInterval(() => {
                  if (i < text.length) {
                    element.textContent += text.charAt(i);
                    i++;
                  } else {
                    clearInterval(nextTimer);
                  }
                }, delay / 2);
              }, 600);
            }
          } else {
            clearInterval(timer);
          }
        }, delay);
      }

      loveBtn.addEventListener('click', () => {
        mainTitle.style.opacity = '0';
        loveBtn.style.display = 'none';
        countdownEl.style.display = 'block';
        let count = 5;

        const countdownInterval = setInterval(() => {
          beepSound.currentTime = 0;
          beepSound.play().catch(e => console.log("Audio play failed:", e));
          countdownEl.textContent = count;

          const centerX = window.innerWidth / 2;
          const centerY = window.innerHeight / 2;
          for (let i = 0; i < 12; i++) {
            const angle = (i / 12) * Math.PI * 2;
            const dist = 110 + Math.random() * 60;
            createSparkle(centerX + Math.cos(angle) * dist, centerY + Math.sin(angle) * dist);
          }

          count--;

          if (count < 0) {
            clearInterval(countdownInterval);
            countdownEl.style.display = 'none';
            videoContainer.style.display = 'block';
            mainTitle.style.display = 'none';
            // FIX: romanticVideo.muted = false; solo debe ocurrir en una interacci√≥n del usuario, 
            // pero lo dejamos para que se active cuando se vea.
            romanticVideo.muted = false; 
            romanticVideo.play().catch(e => {
                console.log("Video play failed (probablemente por autoplay block):", e);
                // Si falla el play, intenta solo mostrar el video
                romanticVideo.muted = true; // Fuerza el silencio para cumplir pol√≠ticas de autoplay
                romanticVideo.play().catch(e => console.log("Re-intento de play fallido:", e));
            });
          }
        }, 1000);
      });

      showLetterBtn.addEventListener('click', () => {
        showLetterBtn.style.display = 'none';
        closeLetterBtn.style.display = 'inline-block';
        letterOverlay.style.display = 'block';
        const speed = parseInt(typingSpeedInput.value) || 60;
        typeLetter(letterMessage, letterContent, speed);
      });

      closeLetterBtn.addEventListener('click', () => {
        letterOverlay.style.display = 'none';
        showLetterBtn.style.display = 'inline-block';
        closeLetterBtn.style.display = 'none';
      });
    });
  </script>
</body>
</html>
